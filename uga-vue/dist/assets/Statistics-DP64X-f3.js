import{_ as C,u as D,r as k,a as z,o as O,w as L,k as E,c as b,b as m,d as c,e as p,l as B,x as r,N as I,O as R,P as T,f as S,E as N,Q as V,F as q,h as G,m as W,n as U}from"./index-DdAoNsqE.js";/* empty css               *//* empty css                  *//* empty css                  */const j={class:"table-container"},H={class:"table-content"},Q={__name:"RankTable",props:{course_id:""},setup(l){const i=D(),o=l,a=k(1),t=z({header:["学号","姓名","题一","题二","题三","题四","题五","题六","总分"],data:[],index:!1,columnWidth:[120,80,60,60,60,60,60,60,60],headerBGC:"transparent",oddRowBGC:"transparent",evenRowBGC:"transparent",headerHeight:30,rowNum:8,align:["left"]});return O(()=>{i.getTestPaper({currentPage:0,pageSize:0,course_id:a.value})}),L(o.course_id,u=>{a.value=u.value,i.getTestPaper({currentPage:0,pageSize:0,course_id:a.value})}),L(i.testPaperData,u=>{if(u.data.length!=0){const v=u.data.sort((s,F)=>F.total-s.total);t.data=v.map(s=>[s.stu_no,s.stu_name,s.p1,s.p2,s.p3,s.p4,s.p5,s.p6,s.total])}else t.data=[]}),(u,v)=>{const s=E("dv-scroll-board");return m(),b("div",j,[v[0]||(v[0]=c("div",{class:"table-header"},[c("div",{class:"dot"},[c("div",{class:"inner"})]),c("div",{class:"table-title"},"成绩排名")],-1)),c("div",H,[p(s,{config:B(t),style:{width:"100%",height:"330px"}},null,8,["config"])])])}}},X=C(Q,[["__scopeId","data-v-5f7fdd19"]]),Y={legend:{data:["均分"],left:"right",textStyle:{fontSize:16,color:"#fff"}},radar:{indicator:[{name:"题一",max:20},{name:"题二",max:20},{name:"题三",max:20},{name:"题四",max:20},{name:"题五",max:20},{name:"题六",max:20}],name:{textStyle:{fontSize:16,color:"#fff"}}},series:[{name:"等分率",type:"radar",itemStyle:{color:"green"},label:{show:!0,fontSize:16,color:"#000"},data:[{value:[13,15,16,14,17,18],name:"均分"}]}]},J={legend:{top:"92%",textStyle:{fontSize:14,color:"#fff"}},series:[{name:"Nightingale Chart",type:"pie",radius:[20,120],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},data:[{value:40,name:"题6"},{value:38,name:"题5"},{value:32,name:"题3"},{value:30,name:"题4"},{value:28,name:"题2"},{value:26,name:"题1"}]}]};function K(l){const i=k(!0),o=r(()=>l.value.concat([]).sort((n,d)=>n-d)),a=r(()=>{let e={};for(let n=0;n<l.value.length;n++){let d=parseFloat(l.value[n]).toFixed(1);d!=="NaN"&&parseFloat(d)===0&&(d="0.0"),e[d]?e[d]+=1:e[d]=1}return e}),t=r(()=>Object.keys(a.value).sort((e,n)=>e-n).map(e=>parseFloat(e).toFixed(1))),u=r(()=>{let e=[];for(let n=0;n<t.value.length;n++)e.push(a.value[t.value[n]]);return e});r(()=>{let e=[];for(let n=parseFloat(f.value.toFixed(1));n<=parseFloat(x.value.toFixed(1));n+=.01)e.push(n.toFixed(2));return e});const v=r(()=>l.value.length===0?0:l.value.reduce((e,n)=>e+n)),s=r(()=>v.value/l.value.length);r(()=>{const e=o.value;return(e[e.length-1>>1]+e[e.length>>1])/2});const F=r(()=>{const e=s.value;return l.value.map(n=>n-e)}),_=r(()=>l.value.length===0?0:F.value.map(d=>d*d).reduce((d,A)=>d+A)/(i.value?l.value.length-1:l.value.length)),h=r(()=>Math.sqrt(_.value)),y=r(()=>({low:s.value-1*h.value,up:s.value+1*h.value})),g=r(()=>({low:s.value-2*h.value,up:s.value+2*h.value})),w=r(()=>({low:s.value-3*h.value,up:s.value+3*h.value})),f=r(()=>Math.min.apply(null,l.value)),x=r(()=>Math.max.apply(null,l.value)),M=r(()=>{let e=[];for(let n=0;n<t.value.length;n++){const d=t.value[n],A=h.value,$=s.value,P=1/(Math.sqrt(2*Math.PI)*A)*Math.exp(-1*((d-$)*(d-$))/(2*A*A));e.push(P)}return e});return{legend:{data:["f(x)"],top:"94%",textStyle:{fontSize:14,color:"#fff"}},xAxis:[{data:t.value}],yAxis:[{type:"value",name:"频数",position:"left",splitLine:{show:!1},axisLine:{lineStyle:{color:"orange"}},axisLabel:{formatter:"{value}"}},{type:"value",name:"概率",position:"right",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{formatter:"{value}"}}],series:[{name:"源数据",type:"bar",yAxisIndex:0,barGap:0,barWidth:27,itemStyle:{normal:{show:!0,color:"rgba(255, 204, 0,.3)",borderColor:"#FF7F50"}},data:u.value},{name:"正态分布",type:"line",smooth:!0,yAxisIndex:1,data:M.value,lineStyle:{color:"#91cc75"},markLine:{symbol:["none"],lineStyle:{type:"silent",color:"green"},itemStyle:{normal:{show:!0,color:"black"}},label:{show:!0,position:"middle"},data:[{name:"一倍标准差",xAxis:y.value.low.toFixed(1),lineStyle:{opacity:f.value>y.value.low?0:1},label:{show:!(f.value>y.value.low)}},{name:"一倍标准差",xAxis:y.value.up.toFixed(1),lineStyle:{opacity:x.value<y.value.up?0:1},label:{show:!(x.value<y.value.up)}},{name:"二倍标准差",xAxis:g.value.low.toFixed(1),lineStyle:{opacity:f.value>g.value.low?0:1},label:{show:!(f.value>g.value.low)}},{name:"二倍标准差",xAxis:g.value.up.toFixed(1),lineStyle:{opacity:x.value<g.value.up?0:1},label:{show:!(x.value<g.value.up)}},{name:"三倍标准差",xAxis:w.value.low.toFixed(1),lineStyle:{opacity:f.value>w.value.low?0:1},label:{show:!(f.value>w.value.low)}},{name:"三倍标准差",xAxis:w.value.up.toFixed(1),lineStyle:{opacity:x.value<w.value.up?0:1},label:{show:!(x.value<w.value.up)}},{name:"平均值",xAxis:s.value.toFixed(1),lineStyle:{color:"red"}}]}}]}}const Z={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},textStyle:{color:"#f1f1f1"},grid:{left:"3%",right:"4%",bottom:"1%",containLabel:!0},xAxis:[{type:"category",data:["0~59","60~79","80~100"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",name:"人数",nameLocation:"end"}],series:[{name:"人数",type:"bar",barWidth:"40%",data:[16,22,10]}]},ee={class:"radar-container"},ae={__name:"RadarChart",setup(l){D();function i(){const o=document.getElementById("main");if(o){const a=R(o);let t=Y;a.setOption(t)}}return O(()=>{i()}),(o,a)=>(m(),b("div",ee,a[0]||(a[0]=[I('<div class="radar-header" data-v-7159752d><div class="dot" data-v-7159752d><div class="inner" data-v-7159752d></div></div><div class="radar-title" data-v-7159752d>得分率</div></div><div class="radar-content" data-v-7159752d><div id="main" data-v-7159752d></div></div>',2)])))}},te=C(ae,[["__scopeId","data-v-7159752d"]]),se={class:"pie-container"},ne={__name:"RateChart",setup(l){D();function i(){const o=document.getElementById("pie");if(o){const a=R(o);let t=J;a.setOption(t)}}return O(()=>{i()}),(o,a)=>(m(),b("div",se,a[0]||(a[0]=[I('<div class="pie-header" data-v-0851cc6c><div class="dot" data-v-0851cc6c><div class="inner" data-v-0851cc6c></div></div><div class="pie-title" data-v-0851cc6c>分数占比</div></div><div class="pie-content" data-v-0851cc6c><div id="pie" data-v-0851cc6c></div></div>',2)])))}},oe=C(ne,[["__scopeId","data-v-0851cc6c"]]),le={class:"bar-container"},ie={__name:"BarChart",setup(l){D();function i(){const o=document.getElementById("bar");R(o).setOption(Z)}return O(()=>{i()}),(o,a)=>(m(),b("div",le,a[0]||(a[0]=[I('<div class="bar-header" data-v-90aa1ac8><div class="dot" data-v-90aa1ac8><div class="inner" data-v-90aa1ac8></div></div><div class="bar-title" data-v-90aa1ac8>分数分析</div></div><div class="bar-content" data-v-90aa1ac8><div id="bar" data-v-90aa1ac8></div></div>',2)])))}},re=C(ie,[["__scopeId","data-v-90aa1ac8"]]),de=[63,72,91,22,61,61,71,47,64,52,44,51,31,62,72,63,64,69,75,71,31,92,73,91,38,61,72,66,68,64,68,69,67,63,64,72,62,63,76,72,66,,76,88,41,63,65,67,53,57,83,85,73,77,67,64,52,75,77,83,56,51,52,53,52,51,53,41,42,43,48,65,62,61,62,63,64,65,67,68],ce={class:"main-container"},ue={class:"main-content"},ve={ref:"chart",id:"chart"},pe={__name:"MainChart",setup(l){const i=k(de),o=a=>{const t=document.getElementById(a);if(!t)return;const u=R(t),v=K(i);u.setOption(v),window.addEventListener("resize",()=>{u.resize()}),T(()=>{window.removeEventListener("resize",()=>{u.resize()}),u.dispose()})};return O(()=>{o("chart")}),(a,t)=>(m(),b("div",ce,[t[1]||(t[1]=c("div",{class:"main-header"},[c("div",{class:"dot"},[c("div",{class:"inner"})]),c("div",{class:"main-title"},"高斯分布")],-1)),c("div",ue,[c("div",ve,null,512),t[0]||(t[0]=I('<div class="data" data-v-e144bc1b><div class="item" data-v-e144bc1b>最高分：<div class="value" data-v-e144bc1b>92</div></div><div class="item" data-v-e144bc1b>最低分：<div class="value" data-v-e144bc1b>22</div></div><div class="item" data-v-e144bc1b>平均分：<div class="value" data-v-e144bc1b>63.6</div></div><div class="item" data-v-e144bc1b>中位数：<div class="value" data-v-e144bc1b>62</div></div></div>',1))])]))}},me=C(pe,[["__scopeId","data-v-e144bc1b"]]),_e={class:"sta-container"},he={class:"left"},fe={class:"middle"},xe={class:"optionCourse"},be={class:"right"},ye={class:"table"},ge={__name:"Statistics",setup(l){const i=D(),o=k(""),a=z([]);return O(()=>{i.getCourse()}),L(o,t=>{i.getTestPaper({course_id:t})}),L(i.courseList,t=>{Object.assign(a,t)}),(t,u)=>{const v=E("dv-border-box12"),s=U,F=N;return m(),b("div",_e,[c("div",he,[p(v,null,{default:S(()=>[p(te)]),_:1}),p(v,null,{default:S(()=>[p(oe)]),_:1})]),c("div",fe,[p(v,null,{default:S(()=>[c("div",xe,[p(F,{modelValue:B(o),"onUpdate:modelValue":u[0]||(u[0]=_=>V(o)?o.value=_:null),placeholder:"请选择课程",size:"large",style:{width:"25%"}},{default:S(()=>[(m(!0),b(q,null,G(B(a),_=>(m(),W(s,{key:_.course_id,label:_.course_name,value:_.course_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),p(me)]),_:1})]),c("div",be,[p(v,null,{default:S(()=>[c("div",ye,[p(X,{course_id:B(o).value},null,8,["course_id"])])]),_:1}),p(v,null,{default:S(()=>[p(re)]),_:1})])])}}},Ae=C(ge,[["__scopeId","data-v-739163f2"]]);export{Ae as default};

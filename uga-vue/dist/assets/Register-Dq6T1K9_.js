import{_ as V,H as U,a as q,r,o as C,c as k,b as I,d as e,T as M,D as n,U as i,l as t,V as R,v as g,W as S,X as T}from"./index-CTN2SkXK.js";const A={class:"register-wrapper"},B={class:"register-container"},D={class:"input-group"},P={class:"input-group"},z={class:"input-group"},E={class:"input-group"},Z={class:"input-group"},H={class:"input-group verification-group"},N={class:"input-group"},W={class:"input-group"},X={__name:"Register",setup($){const f=U(),v=T(),{handleRegister:w}=f,l=q({username:"",phone:"",email:"",profession:"",school:"",password:"",captcha:""}),b=r(""),a=r(""),u=r(60),p=r("获取验证码"),d=r(!0);async function x(){/^[a-zA-Z][a-zA-Z0-9]*$/.test(l.username)||g.error("用户名格式错误!"),l.password!==a.value&&g.error("两次密码不相等!"),await w(l),v.push("/login")}const h=async()=>{if(d.value)if(l.email===""){g.error("请输入邮箱!");return}else d.value=!1;else return;let m=window.setInterval(()=>{p.value=u.value+"s后重新发送",u.value--,u.value<0&&(window.clearInterval(m),p.value="重新发送验证码",u.value=60,d.value=!0)},1e3);await S({email:email.value})},y=()=>{l.username="",l.phone="",l.email="",l.profession="",l.school="",l.password="",a.value="",b.value=""};return C(()=>{}),(m,s)=>(I(),k("div",A,[e("div",B,[s[26]||(s[26]=e("div",{class:"form-header"},[e("h2",null,"创建账号"),e("p",null,"开启您的美好旅程")],-1)),e("form",{onSubmit:M(x,["prevent"]),class:"floating-form"},[e("div",D,[n(e("input",{type:"text",id:"username","onUpdate:modelValue":s[0]||(s[0]=o=>t(l).username=o),required:"",maxlength:"20",placeholder:"              必须以字母开头且由数字与字母组合不包含其它符号"},null,512),[[i,t(l).username]]),s[8]||(s[8]=e("label",{for:"username"},"用户名",-1)),s[9]||(s[9]=e("span",{class:"highlight"},null,-1))]),e("div",P,[n(e("input",{type:"tel",id:"phone","onUpdate:modelValue":s[1]||(s[1]=o=>t(l).phone=o),required:"",maxlength:"20"},null,512),[[i,t(l).phone]]),s[10]||(s[10]=e("label",{for:"phone"},"手机号",-1)),s[11]||(s[11]=e("span",{class:"highlight"},null,-1))]),e("div",z,[n(e("input",{type:"text",id:"profession","onUpdate:modelValue":s[2]||(s[2]=o=>t(l).profession=o),required:""},null,512),[[i,t(l).profession]]),s[12]||(s[12]=e("label",{for:"profession"},"专业名称",-1)),s[13]||(s[13]=e("span",{class:"highlight"},null,-1))]),e("div",E,[n(e("input",{type:"text",id:"school","onUpdate:modelValue":s[3]||(s[3]=o=>t(l).school=o),required:""},null,512),[[i,t(l).school]]),s[14]||(s[14]=e("label",{for:"school"},"学校",-1)),s[15]||(s[15]=e("span",{class:"highlight"},null,-1))]),e("div",Z,[n(e("input",{type:"email",id:"email","onUpdate:modelValue":s[4]||(s[4]=o=>t(l).email=o),required:""},null,512),[[i,t(l).email]]),s[16]||(s[16]=e("label",{for:"email"},"邮箱",-1)),s[17]||(s[17]=e("span",{class:"highlight"},null,-1))]),e("div",H,[n(e("input",{type:"text",id:"verificationCode","onUpdate:modelValue":s[5]||(s[5]=o=>t(l).captcha=o),required:"",maxlength:"6"},null,512),[[i,t(l).captcha]]),s[18]||(s[18]=e("label",{for:"verificationCode"},"验证码",-1)),e("button",{type:"button",onClick:h,class:"send-code-btn"},R(p.value),1),s[19]||(s[19]=e("span",{class:"highlight"},null,-1))]),e("div",N,[n(e("input",{type:"password",id:"password","onUpdate:modelValue":s[6]||(s[6]=o=>t(l).password=o),required:"",minlength:"5",maxlength:"20"},null,512),[[i,t(l).password]]),s[20]||(s[20]=e("label",{for:"password"},"密码",-1)),s[21]||(s[21]=e("span",{class:"highlight"},null,-1))]),e("div",W,[n(e("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":s[7]||(s[7]=o=>a.value=o),required:"",minlength:"5",maxlength:"20"},null,512),[[i,a.value]]),s[22]||(s[22]=e("label",{for:"confirmPassword"},"确认密码",-1)),s[23]||(s[23]=e("span",{class:"highlight"},null,-1))]),s[25]||(s[25]=e("button",{type:"submit",class:"submit-btn"},[e("span",null,"立即注册"),e("i",{class:"arrow-icon"})],-1)),e("div",{class:"footer"},[e("div",{class:"reset",onClick:y},"重置"),s[24]||(s[24]=e("div",{class:"form-footer"},[e("span",null,"已有账号？"),e("a",{href:"/login"},"立即登录")],-1))])],32)])]))}},F=V(X,[["__scopeId","data-v-6bc18226"]]);export{F as default};

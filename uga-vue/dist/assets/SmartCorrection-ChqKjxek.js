import{_ as L,u as D,r as _,a as F,o as I,w as b,c,b as p,d as o,e,f as n,E as N,g as O,F as h,h as w,i as T,j as G,k as M,l as R,m as q,n as z,p as A,q as m,s as H,t as J,v as K}from"./index-D9tbxnKJ.js";/* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css               *//* empty css                  */const P={class:"container"},Q={class:"uploadfile"},W={class:"optCourse"},X={class:"img-group"},Y={class:"btn-group"},Z={class:"result"},$={__name:"SmartCorrection",setup(ee){const r=D(),g=_([]),u=_([]),i=_(""),f=F([]);function E(s){const l=new FormData;if(l.append("image",s.raw),i.value){l.append("course_id",i.value),r.smartGrading(l);const d=URL.createObjectURL(s.raw);u.value.push({url:d,name:s.name})}else K({message:"请选择课程!",type:"error"})}function y(){u.value=[]}function C(){}return I(()=>{r.getCourse()}),b(()=>r.singleGrade,s=>{g.value.push(s)}),b(r.courseList,()=>{Object.assign(f,r.courseList)}),(s,l)=>{const d=z,x=N,k=M("upload-filled"),V=A,j=O,S=H,v=T,t=J,U=G;return p(),c("div",P,[o("div",Q,[o("div",W,[e(x,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=a=>i.value=a),placeholder:"请选择课程",size:"large",style:{width:"240px"}},{default:n(()=>[(p(!0),c(h,null,w(R(f),a=>(p(),q(d,{key:a.course_id,label:a.course_name,value:a.course_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e(j,{class:"upload_img",accept:"image/jpg,image/jpeg,image/png",drag:"",action:"#",multiple:!1,"show-file-list":!1,"auto-upload":!1,"on-change":E},{tip:n(()=>l[1]||(l[1]=[o("div",{class:"el-upload__tip",style:{color:"red"}}," jpg/png图像文件小于2mb ",-1)])),default:n(()=>[e(V,{class:"el-icon--upload"},{default:n(()=>[e(k)]),_:1}),l[2]||(l[2]=o("div",{class:"el-upload__text"},[m(" 拖动文件或 "),o("em",null,"点击上传")],-1))]),_:1}),o("div",X,[(p(!0),c(h,null,w(u.value,(a,B)=>(p(),c("div",{key:B,class:"image-item"},[e(S,{src:a.url,style:{width:"100px",height:"100px"},"preview-src-list":[a.url],fit:s.fit},null,8,["src","preview-src-list","fit"])]))),128))]),o("div",Y,[e(v,{type:"primary",onClick:C},{default:n(()=>l[3]||(l[3]=[m("提交")])),_:1}),e(v,{type:"danger",plain:"",style:{"margin-left":"50px"},onClick:y},{default:n(()=>l[4]||(l[4]=[m("清理图片区域")])),_:1})])]),o("div",Z,[e(U,{class:"res_table",data:g.value,border:""},{default:n(()=>[e(t,{prop:"stu_no",label:"学号",width:"120%"}),e(t,{prop:"stu_name",label:"姓名",width:"80%"}),e(t,{prop:"p1",label:"题目一",width:"70%"}),e(t,{prop:"p2",label:"题目二",width:"70%"}),e(t,{prop:"p3",label:"题目三",width:"70%"}),e(t,{prop:"p4",label:"题目四",width:"70%"}),e(t,{prop:"p5",label:"题目五",width:"70%"}),e(t,{prop:"p6",label:"题目六",width:"70%"}),e(t,{prop:"total",label:"总分"})]),_:1},8,["data"])])])}}},re=L($,[["__scopeId","data-v-42c1618d"]]);export{re as default};
